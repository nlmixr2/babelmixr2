<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Monolix Controller for nlmixr2 — monolixControl • babelmixr2</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Monolix Controller for nlmixr2 — monolixControl"><meta name="description" content="Monolix Controller for nlmixr2"><meta property="og:description" content="Monolix Controller for nlmixr2"><meta property="og:image" content="https://nlmixr2.github.io/babelmixr2/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">babelmixr2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.6.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/new-estimation.html">Creating a New Estimation Method</a></li>
    <li><a class="dropdown-item" href="../articles/PopED.html">PopED</a></li>
    <li><a class="dropdown-item" href="../articles/running-monlix.html">Running Monolix</a></li>
    <li><a class="dropdown-item" href="../articles/running-nonmem.html">Running NONMEM with nlmixr2</a></li>
    <li><a class="dropdown-item" href="../articles/running-pknca.html">Obtain initial estimates and unit conversions with PKNCA</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nlmixr2/babelmixr2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Monolix Controller for nlmixr2</h1>
      <small class="dont-index">Source: <a href="https://github.com/nlmixr2/babelmixr2/blob/main/R/monolixControl.R" class="external-link"><code>R/monolixControl.R</code></a></small>
      <div class="d-none name"><code>monolixControl.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Monolix Controller for nlmixr2</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">monolixControl</span><span class="op">(</span></span>
<span>  nbSSDoses <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  useLinearization <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  stiff <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  addProp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"combined2"</span>, <span class="st">"combined1"</span><span class="op">)</span>,</span>
<span>  exploratoryAutoStop <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  smoothingAutoStop <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  burnInIterations <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  smoothingIterations <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  exploratoryIterations <span class="op">=</span> <span class="fl">250</span>,</span>
<span>  simulatedAnnealingIterations <span class="op">=</span> <span class="fl">250</span>,</span>
<span>  exploratoryInterval <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  exploratoryAlpha <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  omegaTau <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  errorModelTau <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  variability <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"firstStage"</span>, <span class="st">"decreasing"</span><span class="op">)</span>,</span>
<span>  runCommand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"babelmixr2.monolix"</span>, <span class="st">""</span><span class="op">)</span>,</span>
<span>  rxControl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sumProd <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  optExpression <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  calcTables <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  compress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ci <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  sigdigTable <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  absolutePath <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  modelName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  muRefCovAlg <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-nbssdoses">nbSSDoses<a class="anchor" aria-label="anchor" href="#arg-nbssdoses"></a></dt>
<dd><p>Number of steady state doses (default 7)</p></dd>


<dt id="arg-uselinearization">useLinearization<a class="anchor" aria-label="anchor" href="#arg-uselinearization"></a></dt>
<dd><p>Use linearization for log likelihood and
fim.</p></dd>


<dt id="arg-stiff">stiff<a class="anchor" aria-label="anchor" href="#arg-stiff"></a></dt>
<dd><p>boolean for using the stiff ODE solver</p></dd>


<dt id="arg-addprop">addProp<a class="anchor" aria-label="anchor" href="#arg-addprop"></a></dt>
<dd><p>specifies the type of additive plus proportional
  errors, the one where standard deviations add (combined1) or the
  type where the variances add (combined2).</p>
<p>The combined1 error type can be described by the following equation:</p>
<p>$$y = f + (a + b\times f^c) \times \varepsilon$$</p>
<p>The combined2 error model can be described by the following equation:</p>
<p>$$y = f + \sqrt{a^2 + b^2\times f^{2\times c}} \times \varepsilon$$</p>
<p>Where:</p>
<p>- y represents the observed value</p>
<p>- f represents the predicted value</p>
<p>- a  is the additive standard deviation</p>
<p>- b is the proportional/power standard deviation</p>
<p>- c is the power exponent (in the proportional case c=1)</p></dd>


<dt id="arg-exploratoryautostop">exploratoryAutoStop<a class="anchor" aria-label="anchor" href="#arg-exploratoryautostop"></a></dt>
<dd><p>logical to turn on or off exploratory
phase auto-stop of SAEM (default 250)</p></dd>


<dt id="arg-smoothingautostop">smoothingAutoStop<a class="anchor" aria-label="anchor" href="#arg-smoothingautostop"></a></dt>
<dd><p>Boolean indicating if the smoothing should
automatically stop (default <code>FALSE</code>)</p></dd>


<dt id="arg-burniniterations">burnInIterations<a class="anchor" aria-label="anchor" href="#arg-burniniterations"></a></dt>
<dd><p>Number of burn in iterations</p></dd>


<dt id="arg-smoothingiterations">smoothingIterations<a class="anchor" aria-label="anchor" href="#arg-smoothingiterations"></a></dt>
<dd><p>Number of smoothing iterations</p></dd>


<dt id="arg-exploratoryiterations">exploratoryIterations<a class="anchor" aria-label="anchor" href="#arg-exploratoryiterations"></a></dt>
<dd><p>Number of iterations for exploratory
phase (default 250)</p></dd>


<dt id="arg-simulatedannealingiterations">simulatedAnnealingIterations<a class="anchor" aria-label="anchor" href="#arg-simulatedannealingiterations"></a></dt>
<dd><p>Number of simulating annealing
iterations</p></dd>


<dt id="arg-exploratoryinterval">exploratoryInterval<a class="anchor" aria-label="anchor" href="#arg-exploratoryinterval"></a></dt>
<dd><p>Minimum number of iterations in the
exploratory phase (default 200)</p></dd>


<dt id="arg-exploratoryalpha">exploratoryAlpha<a class="anchor" aria-label="anchor" href="#arg-exploratoryalpha"></a></dt>
<dd><p>Convergence memory in the exploratory phase
(only used when <code>exploratoryAutoStop</code> is <code>TRUE</code>)</p></dd>


<dt id="arg-omegatau">omegaTau<a class="anchor" aria-label="anchor" href="#arg-omegatau"></a></dt>
<dd><p>Proportional rate on variance for simulated
annealing</p></dd>


<dt id="arg-errormodeltau">errorModelTau<a class="anchor" aria-label="anchor" href="#arg-errormodeltau"></a></dt>
<dd><p>Proportional rate on error model for simulated
annealing</p></dd>


<dt id="arg-variability">variability<a class="anchor" aria-label="anchor" href="#arg-variability"></a></dt>
<dd><p>This describes the methodology for parameters
without variability.  It could be: - Fixed throughout (none) -
Variability in the first stage (firstStage) - Decreasing until it
reaches the fixed value (decreasing)</p></dd>


<dt id="arg-runcommand">runCommand<a class="anchor" aria-label="anchor" href="#arg-runcommand"></a></dt>
<dd><p>is a shell command or function to run monolix; You can specify
the default by
<code>options("babelmixr2.monolix"="runMonolix")</code>. If it is empty
and 'lixoftConnectors' is available, use lixoftConnectors to run
monolix. See details for function usage.</p></dd>


<dt id="arg-rxcontrol">rxControl<a class="anchor" aria-label="anchor" href="#arg-rxcontrol"></a></dt>
<dd><p>`rxode2` ODE solving options during fitting, created with `rxControl()`</p></dd>


<dt id="arg-sumprod">sumProd<a class="anchor" aria-label="anchor" href="#arg-sumprod"></a></dt>
<dd><p>Is a boolean indicating if the model should change
multiplication to high precision multiplication and sums to
high precision sums using the PreciseSums package.  By default
this is <code>FALSE</code>.</p></dd>


<dt id="arg-optexpression">optExpression<a class="anchor" aria-label="anchor" href="#arg-optexpression"></a></dt>
<dd><p>Optimize the rxode2 expression to speed up
calculation. By default this is turned on.</p></dd>


<dt id="arg-calctables">calcTables<a class="anchor" aria-label="anchor" href="#arg-calctables"></a></dt>
<dd><p>This boolean is to determine if the foceiFit
will calculate tables. By default this is <code>TRUE</code></p></dd>


<dt id="arg-compress">compress<a class="anchor" aria-label="anchor" href="#arg-compress"></a></dt>
<dd><p>Should the object have compressed items</p></dd>


<dt id="arg-ci">ci<a class="anchor" aria-label="anchor" href="#arg-ci"></a></dt>
<dd><p>Confidence level for some tables.  By default this is
0.95 or 95% confidence.</p></dd>


<dt id="arg-sigdigtable">sigdigTable<a class="anchor" aria-label="anchor" href="#arg-sigdigtable"></a></dt>
<dd><p>Significant digits in the final output table.
If not specified, then it matches the significant digits in the
`sigdig` optimization algorithm.  If `sigdig` is NULL, use 3.</p></dd>


<dt id="arg-absolutepath">absolutePath<a class="anchor" aria-label="anchor" href="#arg-absolutepath"></a></dt>
<dd><p>Boolean indicating if the absolute path should
be used for the monolix runs</p></dd>


<dt id="arg-modelname">modelName<a class="anchor" aria-label="anchor" href="#arg-modelname"></a></dt>
<dd><p>Model name used to generate the NONMEM output.  If
<code>NULL</code> try to infer from the model name (could be <code>x</code> if not
clear).  Otherwise use this character for outputs.</p></dd>


<dt id="arg-murefcovalg">muRefCovAlg<a class="anchor" aria-label="anchor" href="#arg-murefcovalg"></a></dt>
<dd><p>This controls if algebraic expressions that can
  be mu-referenced are treated as mu-referenced covariates by:</p>
<p>1. Creating a internal data-variable `nlmixrMuDerCov#` for each
     algebraic mu-referenced expression</p>
<p>2. Change the algebraic expression to `nlmixrMuDerCov# * mu_cov_theta`</p>
<p>3. Use the internal mu-referenced covariate for saem</p>
<p>4. After optimization is completed, replace `model()` with old
  `model()` expression</p>
<p>5. Remove `nlmixrMuDerCov#` from nlmix2 output</p>
<p>In general, these covariates should be more accurate since it
changes the system to a linear compartment model.  Therefore, by default this is `TRUE`.</p></dd>


<dt id="arg-run">run<a class="anchor" aria-label="anchor" href="#arg-run"></a></dt>
<dd><p>Should monolix be run and the results be imported to nlmixr2?  (Default is TRUE)</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Ignored parameters</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A monolix control object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>runCommand</code> is given as a string, it will be called with the
<code><a href="https://rdrr.io/r/base/system.html" class="external-link">system()</a></code> command like:</p>
<p><code>runCommand mlxtran</code>.</p>
<p>For example, if <code>runCommand="'/path/to/monolix/mlxbsub2021' -p "</code> then the command line
used would look like the following:</p>
<p><code>'/path/to/monolix/mlxbsub2021' monolix.mlxtran</code></p>
<p>If <code>runCommand</code> is given as a function, it will be called as
<code>FUN(mlxtran, directory, ui)</code> to run Monolix.  This allows you to run Monolix
in any way that you may need, as long as you can write it in R.  babelmixr2
will wait for the function to return before proceeding.</p>
<p>If <code>runCommand</code> is <code>NA</code>, <code>nlmixr()</code> will stop after writing
the model files and without starting Monolix.</p>
<p>Note that you can get the translated monolix components from a
parsed/compiled rxode2 ui object with <code>ui$monolixModel</code> and <code>ui$mlxtran</code></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Matthew Fidler</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew Fidler, Bill Denney.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

